<uib-alert ng-show="alert" type="{{cadastroEscalaCtrl.alert.type}}" close="closeAlert()">{{cadastroEscalaCtrl.alert.msg}}</uib-alert>
<h3>Cadastro de Escala</h3>
<hr/>
<div ng-show="cadastroEscalaCtrl.escala">
	<form role="form">
		<div class="form-group">
		 	<label>Nome:</label>
			<input class="form-control" type="text" ng-model="cadastroEscalaCtrl.escala.name" name="name" ></input>
		</div>
		<div class="form-group" >
	 		<label>Feriado:</label>
			<a ng-click="cadastroEscalaCtrl.adicionarFeriado()">+</a>
	 		<div ng-repeat="feriado in cadastroEscalaCtrl.escala.feriados">
				<input class="form-control" type="date" ng-model="feriado" name="feriado"></input>
				<a ng-click="cadastroEscalaCtrl.removerFeriado($index)">-</a>
			</div>
		</div>
		<div class="form-group" >
		 	<label>Roxa:</label>
			<a ng-click="cadastroEscalaCtrl.adicionarRoxa()">+</a>
		 	<div ng-repeat="roxa in cadastroEscalaCtrl.escala.roxas">
				<input class="form-control" type="date" ng-model="roxa" name="roxa"></input>
				<a ng-click="cadastroEscalaCtrl.removerRoxa($index)">-</a>
		 	</div>
		</div>
		<div class="form-group" >
			<label>Militares:</label>
			<ui-select multiple="" ng-model="cadastroEscalaCtrl.escala.usuarios" theme="bootstrap" ng-disabled="disabled" sortable="true" close-on-select="false">
				<ui-select-match placeholder="Selecione Militares...">{{$item.nome_guerra}} {{$item.posto}} {{$item.especialidade}}</ui-select-match>
				<ui-select-choices repeat="usuario in cadastroEscalaCtrl.usuarios">
					<div ng-bind-html="usuario.nome_guerra "></div>
					<small>
						{{usuario.posto}} {{usuario.especialidade}}
					</small>
				</ui-select-choices>
			</ui-select>
		</div>
		<button type="submit" ng-click="cadastroEscalaCtrl.salvarEscala(cadastroEscalaCtrl.escala)" class="btn btn-default">Submit</button>
		<a class="btn btn-default" ng-click="cadastroEscalaCtrl.cancelar()" role="button">Cancel</a>
	</form>
</div>

<div ng-show="!cadastroEscalaCtrl.escala">
	{{cadastroEscalaCtrl.status}}
	<a class="btn btn-default" ng-click="cadastroEscalaCtrl.novaEscala()" role="button">Novo Escala</a>
	<table class="table table-hover">
	    <thead>
		    <tr>
		        <th data-field="name" data-sortable="true">Name</th>
		        <th data-field="operate">Editar</th>
		        <th data-field="operate">Remover</th>
		    </tr>
	    </thead>
	    <tbody>
		    <tr ng-repeat="escala in cadastroEscalaCtrl.escalas">
		    	<td>{{ escala.name }}</td>
		    	<td><a class="edit ml10" ng-click="cadastroEscalaCtrl.editarEscala($index)" title="Edit"><i class="glyphicon glyphicon-pencil"></i></a></td>
				<td><a class="remove ml10" ng-click="cadastroEscalaCtrl.deletarEscala($index)" title="Remove"><i class="glyphicon glyphicon-remove text-error"></i></a></td>
		    </tr>
	    </tbody>
	</table>
</div>
